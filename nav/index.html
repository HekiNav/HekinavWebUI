<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HekiNav</title>
    <link rel="icon" href="img/bus.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style2.css">
    <link rel="stylesheet" href="leaflet.css">
    <link rel="stylesheet" href="search.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
</head>

<body>
    <div class="container">
        <div id="error">
            <svg class="error" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="#fff" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
            </svg>
            <span id="errorMessage"></span>
            <svg fill="#fff" version="1.1" class="x" id="closeError" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-46.08 -46.08 552.93 552.93" xml:space="preserve"
                transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)" stroke="#555" stroke-width="0.00460775">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55 c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55 c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505 c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55 l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719 c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z">
                    </path>
                </g>
            </svg>
        </div>
        <iframe src="/navbar.html" frameborder="0" class="navbar"></iframe>
        <main id="maincontent">
            <button id="search" class="sb1">Search</button>
            <h1 class="text1 sb1">from</h1>
            <div class="input1 sb1">
                <input autocomplete="off" type="text" placeholder="Origin" id="input1" />
                <ul class="autocorrect" id="autocorrect1"></ul>
                <p id="error1" hidden>Origin not valid</p>
            </div>
            <h1 class="text2 sb1">to</h1>
            <div class="input2 sb1">
                <input autocomplete="off" type="text" placeholder="Destination" id="input2" />
                <div class="autocorrect" id="autocorrect2"></div>
                <p id="error2" hidden>Destination not valid</p>
            </div>
            <h1 class="text3 sb1">at</h1>
            <input autocomplete="off" name="date" id="input4" type="date" class="sb1" max="1">
            <input autocomplete="off" name="time" id="input3" type="time" class="sb1">
            <div id="route" class="sb3"></div>
            <button class="sb2 sb3 back"
                onclick="sidebarMode(currentMode == 'route' ? 'routepreview' : 'main')"></button>
            <div id="options" class="sb1">
                <label for="apiSelect">Select endpoint to use</label>
                <select id="apiSelect" class="apiSelect">
                    <option value="finlandv2" selected>Finland V2</option>
                    <option value="hslv2">HSL V2</option>
                    <option value="finlandv1">Finland V1</option>
                    <option value="hslv1">HSL V1</option>
                </select>
                <br>
                <button id="modesButton">Modes</button>
                <div id="preferrercontainer">
                    <label for="preferrer">Ban or prefer routes, agencies & stops</label>
                    <div class="preferrer">
                        <input autocomplete="off" type="text" placeholder="Search stops" id="preferInput" />
                        <div class="prefersearch" id="preferSearch"></div>
                    </div>
                </div>
                <div id="viacontainer">
                    <label for="preferrer">Go via a stop</label>
                    <div class="via">
                        <input autocomplete="off" type="text" placeholder="Search stops" id="viaInput" />
                        <div class="viasearch" id="viaSearch"></div>
                    </div>
                </div>
                <div id="parameters"></div>
            </div>
            <div id="modePopup" class="sb1 hidden">
                <span class="close" id="closeModePopup" style="float: right; font-size: 200%;">&times;</span>
                <div id="modePopupContent">
                    <!--bus-->
                    <div id="bussvgContainer">
                        <svg id="bussvg" style="fill: #007ac9;" viewBox="0 0 1024 1024"
                            xmlns="http://www.w3.org/2000/svg">
                            <path fill="#FFF" class="path1 fill-color14"
                                d="M874.388 993.287H157.577c-67.864 0-122.883-55.015-122.883-122.883V153.593c0-67.864 55.015-122.883 122.883-122.883h716.811c67.864 0 122.883 55.015 122.883 122.883v716.811c0 67.868-55.018 122.883-122.883 122.883z">
                            </path>
                            <path class="path2 fill-color8"
                                d="M.033 126.799C.033 57.685 57.627.09 126.742.09h767.931c71.676 0 129.27 57.594 129.27 126.709V894.73c0 71.672-57.594 129.27-129.27 129.27H126.745C57.631 1024 .036 966.406.036 894.73V126.799zm513.235-16.639c-106.229 0-198.384 5.119-299.491 19.197-30.717 3.84-48.635 21.758-48.635 48.635v598.985c0 19.197 14.078 31.996 26.877 35.836l38.397 6.398v80.631c0 8.959 7.68 15.36 17.918 15.36h61.434c7.68 0 15.357-6.398 15.357-15.36V828.17c49.914 6.398 117.75 8.959 185.585 8.959 69.114 0 139.508-2.558 188.146-8.959v71.672c0 8.959 8.959 15.36 16.636 15.36h61.434c10.238 0 17.918-6.398 17.918-15.36v-80.631l38.397-6.398c14.078-3.84 26.877-15.357 26.877-35.836V177.995c0-26.877-17.918-44.795-48.635-48.635-102.393-12.799-195.823-19.2-298.216-19.2zm264.937 510.674c-72.951 12.799-168.946 25.598-262.376 25.598-98.553 0-191.983-11.517-266.216-28.156-20.476-3.84-28.156-11.52-28.156-28.156V216.389c0-16.636 7.68-28.156 28.156-28.156l528.592 2.558c20.479 0 26.877 11.52 26.877 28.159v373.728c0 16.639-6.398 25.598-26.877 28.156zM241.933 723.227c1.279-16.636 16.636-31.996 34.557-31.996 17.918 0 33.275 15.357 33.275 31.996 0 19.197-15.357 34.557-33.275 34.557-19.197-1.279-34.557-16.639-34.557-34.557zm468.44 0c1.279-16.636 16.639-31.996 33.275-31.996 17.918 0 33.278 15.357 33.278 31.996 0 19.197-15.357 34.557-33.278 34.557-17.918-1.279-33.275-16.639-33.275-34.557z">
                            </path>
                        </svg>
                        <p>Bus</p>
                    </div>
                    <!--train-->
                    <div id="trainsvgContainer">
                        <svg id="trainsvg" style="fill: #007ac9;" id="Layer_1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                            y="0px" viewBox="0 0 283.46 283.46" style="enable-background:new 0 0 283.46 283.46;"
                            xml:space="preserve">
                            <style type="text/css">
                                .st1 {
                                    fill: #FFFFFF;
                                }
                            </style>
                            <g>
                                <path class="st0"
                                    d="M0,247.94c0,19.65,15.87,35.53,35.53,35.53h212.79c19.28,0,35.15-15.88,35.15-35.53V35.15C283.46,15.87,267.59,0,248.31,0H35.52C15.87,0,0,15.87,0,35.15V247.94z" />
                                <path class="st1"
                                    d="M244.34,168.66c1.7,5.95-4.54,10.21-9.35,10.21h-7.65c-2.55,0-4.25-1.42-5.1-3.4l-2.55-5.95c-1.13-3.12,0-4.82,3.4-4.82h15.88C241.51,164.69,243.21,165.54,244.34,168.66 M159.87,169.51c-0.57-3.12,0-4.82,3.4-4.82h15.31c2.84,0,4.25,1.42,5.1,3.69l2.27,5.38c1.13,3.12,0,5.1-2.55,5.1h-6.24C167.24,178.87,161.29,174.33,159.87,169.51 M154.2,150.23l-9.36-39.4c-1.13-4.82,0.28-7.09,5.38-7.09l70.02,0.28c3.97,0,6.52,1.7,7.65,4.82l11.06,41.39c1.13,3.12-1.42,4.82-4.54,4.82h-74.84C156.19,155.05,155.34,153.35,154.2,150.23 M106.3,112.82v34.58c0,3.12-2.83,4.82-5.67,3.12l-12.19-7.37c-2.55-1.7-3.4-3.4-3.4-5.95l-0.28-32.03c0-3.68,2.27-5.67,5.1-4.54l11.91,5.1C104.31,106.86,106.3,109.13,106.3,112.82M71.43,132.66l-9.64-5.95c-2.27-1.42-3.12-3.4-3.12-6.52V91.84c0-2.84,1.7-3.97,4.25-2.84l8.79,3.69c3.69,1.42,4.82,3.69,4.82,7.94l0.28,28.63C76.82,132.66,74.55,134.64,71.43,132.66 M172.91,81.35h12.19c2.27,0,3.97,0.85,5.1,3.4l1.7,4.82c1.13,3.68,0,4.82-2.84,4.82h-12.76c-1.98,0-3.97-1.13-4.54-3.12l-1.98-5.95C168.66,82.77,169.79,81.35,172.91,81.35M252.92,248.03l-47.01-29.48h24.54c26.08,0,33.16-18.42,27.21-40.54l-18.42-69.73c-7.08-26.08-16.16-35.15-67.75-45.64L35.43,35.43v41.95l12.47,5.1c1.98,0.85,2.83,2.27,2.83,5.39v26.65c0,3.12-1.98,3.97-4.54,2.55l-10.77-6.8v27.97l86.94,67.83c15.59,12.19,26.73,12.48,42.04,12.48h19.98l14.68,9.92h-68.6l-95.05-79.65v13.32l94.68,85.89h23.57l-12.08-10.21h71.55l15.11,10.21H252.92z" />
                            </g>
                        </svg>
                        <p>Train</p>
                    </div>
                    <!--metro-->
                    <div id="metrosvgContainer">
                        <svg id="metrosvg" style="fill: #ff6319;" id="Layer_1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                            y="0px" viewBox="0 0 283.46 283.46" style="enable-background:new 0 0 283.46 283.46;"
                            xml:space="preserve">
                            <style type="text/css">
                                .st1 {
                                    fill: #FFFFFF;
                                }
                            </style>
                            <g>
                                <path class="st0"
                                    d="M0,248.03c0,19.49,15.94,35.43,35.43,35.43h212.6c19.49,0,35.43-15.95,35.43-35.43V35.43C283.46,15.94,267.52,0,248.03,0H35.43C15.94,0,0,15.94,0,35.43V248.03z" />
                            </g>
                            <g>
                                <path class="st1"
                                    d="M165.43,248.03l40.19-137.96v-6.04c0-0.39,0.51-0.79,1.15-0.58l0,144.58h44.17V35.43h-64.97l-40.82,145.36l-0.78,9.75c-0.38,0.19-0.51,0.19-0.89,0l-1.16-9.75L101.49,35.43H36.26l0,212.6h44.56V103.45c0.51-0.21,1.15,0.18,1.15,0.58v6.04l39.93,137.96H165.43" />
                            </g>
                        </svg>
                        <p>Metro</p>
                    </div>
                    <!--tram-->
                    <div id="tramsvgContainer">
                        <svg id="tramsvg" style="fill: #00985f;" id="Layer_1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                            y="0px" viewBox="0 0 283.46 283.46" style="enable-background:new 0 0 283.46 283.46;"
                            xml:space="preserve">
                            <style type="text/css">
                                .st1 {
                                    clip-path: url(#SVGID_4_);
                                    fill: #FFFFFF;
                                }
                            </style>
                            <g>
                                <defs>
                                    <rect id="SVGID_1_" width="283.46" height="283.46" />
                                </defs>
                                <clipPath id="SVGID_2_">
                                    <use xlink:href="#SVGID_1_" style="overflow:visible;" />
                                </clipPath>
                                <path class="st0"
                                    d="M0,248.03c0,19.49,15.94,35.43,35.43,35.43h212.6c19.49,0,35.43-15.95,35.43-35.43V35.43C283.46,15.94,267.52,0,248.03,0H35.43C15.94,0,0,15.94,0,35.43V248.03z" />
                            </g>
                            <g>
                                <defs>
                                    <rect id="SVGID_3_" width="283.46" height="283.46" />
                                </defs>
                                <clipPath id="SVGID_4_">
                                    <use xlink:href="#SVGID_3_" style="overflow:visible;" />
                                </clipPath>
                                <path class="st1"
                                    d="M190.87,251.71c3.4,0,6.8,3.03,6.8,6.43c0,4.53-3.4,7.18-6.8,7.18H92.59c-3.78,0-6.42-2.64-6.42-7.18c0-3.4,2.64-6.43,6.42-6.43h10.59v-10.58l13.22,1.51v9.07h50.65v-9.07l13.23-1.51v10.58H190.87z M204.1,74.83l-6.05-14.36c-1.89-4.16-4.15-6.43-8.69-7.56c-15.12-3.78-26.08-5.29-40.44-5.67V34.76h26.46c3.4,0,6.43-3.03,6.43-6.8c0-4.16-3.03-7.18-6.43-7.18h-66.9c-4.15,0-7.18,3.02-7.18,7.18c0,3.78,3.03,6.8,7.18,6.8h26.08v12.47c-14.74,0.38-26.45,1.89-40.43,5.67c-4.92,1.51-7.56,3.4-9.45,7.56l-6.05,14.36c-1.89,4.53-1.89,10.59-1.89,15.12V217.6c0,6.42,4.16,10.21,10.59,11.34c19.28,3.78,35.9,5.29,54.43,5.29c17.76,0,34.77-1.51,54.42-5.29c6.04-1.13,10.58-4.92,10.58-11.34V89.95C206.74,85.41,205.98,79.36,204.1,74.83 M97.51,204.85c-4.54,0-7.94-3.4-7.94-7.94c0-4.92,3.4-8.7,7.94-8.7c4.91,0,8.69,3.78,8.69,8.7C106.2,201.45,102.42,204.85,97.51,204.85 M89.95,173.1V86.92h103.18v86.18c-13.61,4.15-32.88,6.42-51.4,6.42C123.21,179.52,103.93,176.88,89.95,173.1 M186.71,204.85c-4.54,0-7.94-3.4-7.94-7.94c0-4.92,3.4-8.7,7.94-8.7c4.92,0,8.69,3.78,8.69,8.7C195.4,201.45,191.62,204.85,186.71,204.85" />
                            </g>
                        </svg>
                        <p>Tram</p>
                    </div>
                    <!--ferry-->
                    <div id="ferrysvgContainer">
                        <svg id="ferrysvg" style="fill: #00b9e4;" id="Layer_1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                            y="0px" viewBox="0 0 283.46 283.46" style="enable-background:new 0 0 283.46 283.46;"
                            xml:space="preserve">
                            <style type="text/css">
                                .st1 {
                                    fill: #FFFFFF;
                                }
                            </style>
                            <g>
                                <path class="st0"
                                    d="M0,248.03c0,19.49,15.94,35.43,35.43,35.43h212.6c19.49,0,35.43-15.95,35.43-35.43V35.43		C283.46,15.94,267.52,0,248.03,0H35.43C15.94,0,0,15.94,0,35.43V248.03z" />
                            </g>
                            <g>
                                <path class="st1"
                                    d="M72.11,143.17c9.76-2.54,17.2-4.44,30.23-7.23c16.93-3.63,37.6-6.09,38.6-6.21c1,0.12,21.67,2.59,38.6,6.21		c13.03,2.79,20.47,4.69,30.24,7.23v-49.4c0-6.45,1.8-14.84-14.99-14.84h-30.82v-46.6c-0.18-2.5-2.11-4.52-4.57-4.83h-36.92		c-2.46,0.31-4.39,2.33-4.57,4.83v46.6H87.1c-16.79,0-14.99,8.4-14.99,14.84V143.17z M176.07,91.5c7.31,0,13.23,5.92,13.23,13.22		c0,7.3-5.93,13.22-13.23,13.22c-7.29,0-13.22-5.92-13.22-13.22C162.85,97.42,168.79,91.5,176.07,91.5 M140.94,91.5		c7.29,0,13.22,5.92,13.22,13.22c0,7.3-5.92,13.22-13.22,13.22c-7.3,0-13.23-5.92-13.23-13.22C127.71,97.42,133.64,91.5,140.94,91.5		 M105.79,91.5c7.29,0,13.22,5.92,13.22,13.22c0,7.3-5.93,13.22-13.22,13.22c-7.3,0-13.21-5.92-13.21-13.22		C92.57,97.42,98.48,91.5,105.79,91.5 M140.94,228.4c38.29,0.01,76.46,0.01,78.6,0.02l7.65-67.09c0,0-28.31-7.6-47.63-11.74		c-16.76-3.59-37.19-6.04-38.58-6.2v-0.01c0,0-0.01,0-0.04,0c-0.02,0-0.04,0-0.04,0v0.01c-1.39,0.16-21.82,2.62-38.57,6.2		c-19.32,4.15-47.63,11.74-47.63,11.74l7.65,67.09C64.48,228.41,102.64,228.4,140.94,228.4 M240.7,239.46H42.76		c-3.77,0-6.83,3.06-6.83,6.83c0,3.77,3.07,6.83,6.83,6.83H240.7c3.77,0,6.83-3.06,6.83-6.83		C247.53,242.51,244.47,239.46,240.7,239.46" />
                            </g>
                        </svg>
                        <p>Ferry</p>
                    </div>
                </div>
            </div>
            <h1 id="rph" class="sb2">Loading routes</h1>
            <div id="routes" class="sb2"></div>
            <div id="map"></div>
            <div id="popup"></div>
            <div id="stopPopup">
                <div id="resizer">
                    <hr>
                </div>
                <div id="popupContent"></div>
                <svg fill="#555" version="1.1" class="x" id="closePopup" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-46.08 -46.08 552.93 552.93"
                    xml:space="preserve" transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)" stroke="#555"
                    stroke-width="0.00460775">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path
                            d="M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55 c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55 c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505 c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55 l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719 c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z">
                        </path>
                    </g>
                </svg>
            </div>
        </main>
    </div>
    <!-- Search engine -->
    <script src="https://cdn.jsdelivr.net/npm/minisearch@7.1.0/dist/umd/index.min.js"></script>
    <!-- Protobuf decompiling -->
    <script src="//cdn.jsdelivr.net/npm/protobufjs@7.X.X/dist/protobuf.min.js"></script>
    <!-- Mqtt handling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/5.9.1/mqtt.min.js"></script>
    <!-- Leaflet map -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Leaflet locator -->
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js"
        charset="utf-8"></script>
    <!-- Used for rendering pbf map tiles-->
    <script src="script/LVectorGrid/L.VectorGrid.js"></script>
    <!-- Text running along leaflet paths -->
    <script src="script/LTextPath/L.TextPath.js"></script>
    <!-- Google polyline handling -->
    <script src="script/PolylineEncoding/polyline.js"></script>
    <script src="script/setup.js"></script>
    <script src="script/main.js"></script>
    <script src="script/getQuery.js"></script>
</body>

</html>